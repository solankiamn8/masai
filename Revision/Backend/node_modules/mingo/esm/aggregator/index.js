import { initOptions } from "../core";
import { $match } from "../operators/pipeline/match";
import { $project } from "../operators/pipeline/project";
import { $sort } from "../operators/pipeline/sort";
import { AggregatorImpl } from "./_internal";
class Aggregator extends AggregatorImpl {
  /**
   * Creates an instance of the Aggregator class.
   *
   * @param pipeline - An array of objects representing the aggregation pipeline stages.
   * @param options - Optional configuration settings for the aggregator.
   */
  constructor(pipeline, options) {
    const opts = initOptions(options);
    opts.context.addPipelineOps({ $match, $project, $sort });
    super(pipeline, opts);
  }
}
export {
  Aggregator
};
